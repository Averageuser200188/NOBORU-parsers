WIEManga=Parser:new("Wie Manga!","https://www.wiemanga.com","DEU","WIEMANGADE",1)local function a(b)if u8c then return b:gsub("&#([^;]-);",function(c)local d=tonumber("0"..c)or tonumber(c)return d and u8c(d)or"&#"..c..";"end):gsub("&([^;]-);",function(c)return HTML_entities and HTML_entities[c]and u8c(HTML_entities[c])or"&"..c..";"end)else return b end end;WIEManga.Filters={{Name="Kategorie",Type="checkcross",Tags={"4-Koma","Abenteuer","Action","Adventure","Alltagsdrama","Boys Love","Comedy","Crime","DäMonen","Doujinshi","Drama","Ecchi","Erotik","Fantasy","Geister","Gender Bender","Girls Love","Harem","Historical","Historisch","Horror","Isekai","Josei","Kampfsport","Kartenspiel","Kinder","Kochen","KomöDie","Krimi","Magie","Mecha","Medical","MilitäR","Monster","Musik","Mystery","OneShots","Philosophical","Psychodrama","Psychological","Romance","Romanze","Schule","Sci-Fi","Seinen","Shoujo","Shoujo Ai","Shounen","Shounen Ai","Slice Of Life","Spiel","Sport","Sports","Super KräFte","Superhero","SuperkräFte","Thriller","Tragedy","Vampire","Videospiel","Yaoi","Yuri"}}}WIEManga.KategorieKeys={["4-Koma"]="104",["Abenteuer"]="63",["Action"]="64",["Adventure"]="113",["Alltagsdrama"]="82",["Boys Love"]="106",["Comedy"]="110",["Crime"]="122",["DäMonen"]="76",["Doujinshi"]="97",["Drama"]="65",["Ecchi"]="79",["Erotik"]="88",["Fantasy"]="66",["Geister"]="108",["Gender Bender"]="91",["Girls Love"]="99",["Harem"]="73",["Historical"]="114",["Historisch"]="84",["Horror"]="72",["Isekai"]="109",["Josei"]="95",["Kampfsport"]="81",["Kartenspiel"]="78",["Kinder"]="101",["Kochen"]="107",["KomöDie"]="67",["Krimi"]="105",["Magie"]="68",["Mecha"]="89",["Medical"]="123",["MilitäR"]="90",["Monster"]="100",["Musik"]="83",["Mystery"]="69",["OneShots"]="124",["Philosophical"]="116",["Psychodrama"]="103",["Psychological"]="121",["Romance"]="111",["Romanze"]="74",["Schule"]="70",["Sci-Fi"]="86",["Seinen"]="96",["Shoujo"]="85",["Shoujo Ai"]="118",["Shounen"]="75",["Shounen Ai"]="119",["Slice Of Life"]="112",["Spiel"]="92",["Sport"]="87",["Sports"]="117",["Super KräFte"]="80",["Superhero"]="120",["SuperkräFte"]="102",["Thriller"]="94",["Tragedy"]="115",["Vampire"]="71",["Videospiel"]="77",["Yaoi"]="93",["Yuri"]="98"}WIEManga.Letters={"#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"}WIEManga.Tags={"4-Koma","Abenteuer","Action","Adventure","Alltagsdrama","Boys Love","Comedy","Crime","DäMonen","Doujinshi","Drama","Ecchi","Erotik","Fantasy","Geister","Gender Bender","Girls Love","Harem","Historical","Historisch","Horror","Isekai","Josei","Kampfsport","Kartenspiel","Kinder","Kochen","KomöDie","Krimi","Magie","Mecha","Medical","MilitäR","Monster","Musik","Mystery","OneShots","Philosophical","Psychodrama","Psychological","Romance","Romanze","Schule","Sci-Fi","Seinen","Shoujo","Shoujo Ai","Shounen","Shounen Ai","Slice Of Life","Spiel","Sport","Sports","Super KräFte","Superhero","SuperkräFte","Thriller","Tragedy","Vampire","Videospiel","Yaoi","Yuri"}WIEManga.TagValues={["4-Koma"]="4-Koma",["Abenteuer"]="Abenteuer",["Action"]="Action",["Adventure"]="Adventure",["Alltagsdrama"]="Alltagsdrama",["Boys Love"]="Boys%20Love",["Comedy"]="Comedy",["Crime"]="Crime",["DäMonen"]="Dämonen",["Doujinshi"]="Doujinshi",["Drama"]="Drama",["Ecchi"]="Ecchi",["Erotik"]="Erotik",["Fantasy"]="Fantasy",["Geister"]="Geister",["Gender Bender"]="Gender%20Bender",["Girls Love"]="Girls%20Love",["Harem"]="Harem",["Historical"]="Historical",["Historisch"]="Historisch",["Horror"]="Horror",["Isekai"]="Isekai",["Josei"]="Josei",["Kampfsport"]="Kampfsport",["Kartenspiel"]="Kartenspiel",["Kinder"]="Kinder",["Kochen"]="Kochen",["KomöDie"]="Komödie",["Krimi"]="Krimi",["Magie"]="Magie",["Mecha"]="Mecha",["Medical"]="Medical",["MilitäR"]="Militär",["Monster"]="Monster",["Musik"]="Musik",["Mystery"]="Mystery",["OneShots"]="OneShots",["Philosophical"]="Philosophical",["Psychodrama"]="Psychodrama",["Psychological"]="Psychological",["Romance"]="Romance",["Romanze"]="Romanze",["Schule"]="Schule",["Sci-Fi"]="Sci-Fi",["Seinen"]="Seinen",["Shoujo"]="Shoujo",["Shoujo Ai"]="Shoujo%20Ai",["Shounen"]="Shounen",["Shounen Ai"]="Shounen%20Ai",["Slice Of Life"]="Slice%20of%20Life",["Spiel"]="Spiel",["Sport"]="Sport",["Sports"]="Sports",["Super KräFte"]="Super%20Kräfte",["Superhero"]="Superhero",["SuperkräFte"]="Superkräfte",["Thriller"]="Thriller",["Tragedy"]="Tragedy",["Vampire"]="Vampire",["Videospiel"]="Videospiel",["Yaoi"]="Yaoi",["Yuri"]="Yuri"}local function e(f)local g={}Threads.insertTask(g,{Type="StringRequest",Link=f,Table=g,Index="string",Header1="Accept-Language: en-US,en;q=0.5",Header2="Referer: https://www.wiemanga.com"})while Threads.check(g)do coroutine.yield(false)end;return g.string or""end;function WIEManga:getManga(f,h)local i=e(f)h.NoPages=true;for j,k,l in i:gmatch('<dt><a href="[^"]-/manga/([^"]-)%.html"[^>]-><img src="([^"]-)".-title="[^>]-">([^<]-)</a>')do h[#h+1]=CreateManga(a(l),j,k,self.ID,self.Link.."/manga/"..j..".html",self.Link.."/manga/"..j..".html")h.NoPages=false;coroutine.yield(false)end end;function WIEManga:getLatestManga(m,h)self:getManga(self.Link.."/list/New-Update/",h)h.NoPages=true end;function WIEManga:getPopularManga(m,h)self:getManga(self.Link.."/list/Hot-Book/",h)h.NoPages=true end;function WIEManga:getTagManga(m,h,n)self:getManga(self.Link.."/category/"..self.TagValues[n].."_"..m..".html",h)end;function WIEManga:getLetterManga(m,h,o)self:getManga(self.Link.."/category/"..o:gsub("#","0-9").."_"..m..".html",h)end;function WIEManga:searchManga(p,m,h,q)local r="/search/?name_sel=&wd="..p.."&author_sel=&author=&artist_sel=&artist="if q then local s=q["Kategorie"]if s then local t={}local u={}for v=1,#s.include do t[#t+1]=self.KategorieKeys[s.include[v]]end;for v=1,#s.exclude do u[#u+1]=self.KategorieKeys[s.exclude[v]]end;r=r.."&category_id="..table.concat(t,"%2C")r=r.."&out_category_id="..table.concat(u,"%2C")end end;r=r.."&completed_series=either&page="..m..".html"local i=e(self.Link..r)h.NoPages=true;for j,k,l in i:gmatch('"resultimg" href="[^"]-/manga/([^"]-)%.html"><img src="([^"]-)".->([^><]-)<br')do h[#h+1]=CreateManga(a(l),j,k,self.ID,self.Link.."/manga/"..j..".html",self.Link.."/manga/"..j..".html")h.NoPages=false;coroutine.yield(false)end end;function WIEManga:getChapters(w,h)local i=e(self.Link.."/manga/"..w.Link)local x={}for j,l in i:gmatch('"col1"><a href="[^"]-/chapter/([^"]-)[/]*"[^>]->([^<]-)</a>')do x[#x+1]={Name=a(l),Link=j,Pages={},Manga=w}end;for v=#x,1,-1 do h[#h+1]=x[v]end end;function WIEManga:prepareChapter(y,h)local z=tonumber(e(self.Link.."/chapter/"..y.Link):match(">(%d+)</option>[^<]-</select>")or"0")for v=1,z do h[#h+1]=self.Link.."/chapter/"..y.Link.."-"..v..".html"end end;function WIEManga:loadChapterPage(f,h)local A=e(f):match("comicpic' src=\"([^\"]-)\"")or""h.Link={Link=A,Header1="Accept-Language: en-US,en;q=0.5",Header2="Referer: https://www.wiemanga.com"}end