HentaiRead=Parser:new("HentaiRead","https://hentairead.com","DIF","HENREADDIF",2)HentaiRead.NSFW=true;local function a(b)return b:gsub("&#([^;]-);",function(c)local d=tonumber("0"..c)or tonumber(c)return d and u8c(d)or"&#"..c..";"end):gsub("&(.-);",function(c)return HTML_entities and HTML_entities[c]and u8c(HTML_entities[c])or"&"..c..";"end)end;local function e(f)local g={}Threads.insertTask(g,{Type="StringRequest",Link=f,Table=g,Index="text"})while Threads.check(g)do coroutine.yield(false)end;return g.text or""end;function HentaiRead:getManga(f,h,i)local j=e(f)h.NoPages=true;local k='page%-item%-detail manga">.-href=".-/hentai/([^"]-)/" title="([^"]-)".-data%-src="([^"]-)"'if i then k='row c%-tabs%-item__content">.-href=".-/hentai/([^"]-)/" title="([^"]-)".-data%-src="([^"]-)"'end;for l,m,n in j:gmatch(k)do h[#h+1]=CreateManga(a(m),l,n,self.ID,self.Link.."/hentai/"..l)h.NoPages=false;coroutine.yield(false)end end;function HentaiRead:getLatestManga(o,h)self:getManga(self.Link.."/hentai/page/"..o.."/?m_orderby=latest&m_order=desc",h)end;function HentaiRead:getPopularManga(o,h)self:getManga(self.Link.."/hentai/page/"..o.."/?m_orderby=views&m_order=desc",h)end;function HentaiRead:searchManga(p,o,h)self:getManga(self.Link.."/page/"..o.."/?s="..p.."&post_type=wp-manga&verified=1",h,true)end;function HentaiRead:getChapters(q,h)local j=e(self.Link.."/hentai/"..q.Link):match("page%-content%-listing single%-page(.-)</ul>")or""for l,m in j:gmatch('wp%-manga%-chapter[^>]->[^<]-<a href=".-/hentai/([^"]-)/">.-\n*([^<]-)</a>')do h[#h+1]={Name=a(m),Link=l,Pages={},Manga=q}end end;function HentaiRead:prepareChapter(r,h)local j=e(self.Link.."/hentai/"..r.Link.."/english"):match("var chapter_preloaded_images = %[(.-)%]")or""for l in j:gmatch('"([^"]-)"')do h[#h+1]=l:gsub("\\/","/")end end;function HentaiRead:loadChapterPage(f,h)h.Link=f end