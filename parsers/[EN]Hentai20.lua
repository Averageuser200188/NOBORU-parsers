Hentai20=Parser:new("Hentai20","https://hentai20.com","ENG","HENTAITWENTYENG",2)Hentai20.NSFW=true;local function a(string)if u8c then return string:gsub("&#([^;]-);",function(b)local c=tonumber("0"..b)or tonumber(b)return c and u8c(c)or"&#"..b..";"end):gsub("&([^;]-);",function(b)return HTML_entities and HTML_entities[b]and u8c(HTML_entities[b])or"&"..b..";"end)else return string end end;local function d(e)local f={}Threads.insertTask(f,{Type="StringRequest",Link=e,Table=f,Index="string",Header1="Referer: https://hentai20.com/"})while Threads.check(f)do coroutine.yield(false)end;return f.string or""end;function Hentai20:getManga(e,g)local h=d(e)g.NoPages=true;for i,j,k in h:gmatch('<div class="row c%-tabs%-item__content">.-href="[^"]-/manga/([^"]-)/" title="([^"]-)">.-src="([^"]-)"')do g[#g+1]=CreateManga(a(j),i,{Link=k:gsub("%%","%%%%"),Header1="Referer: https://hentai20.com/"},self.ID,self.Link.."/manga/"..i.."/")g.NoPages=false;coroutine.yield(false)end end;function Hentai20:getPopularManga(l,g)self:getManga(self.Link.."/page/"..l.."/?s&post_type=wp-manga&m_orderby=trending",g)end;function Hentai20:getLatestManga(l,g)self:getManga(self.Link.."/page/"..l.."/?s&post_type=wp-manga&m_orderby=latest",g)end;function Hentai20:getAZManga(l,g)self:getManga(self.Link.."/page/"..l.."/?s&post_type=wp-manga&m_orderby=alphabet",g)end;function Hentai20:searchManga(m,l,g)self:getManga(self.Link.."/page/"..l.."/?s="..m.."&post_type=wp-manga&m_orderby",g)end;function Hentai20:getChapters(n,g)local h=d(self.Link.."/manga/"..n.Link.."/")local o={}g.Description=a((h:match('<div class="summary__content ">%s*(.-)%s*</div>')or h:match('<div class="summary__content show%-more">%s*<p>(.-)</p>')or""):gsub("<br>","\n"):gsub("<[^>]->","")):gsub("^%l",string.upper):gsub("%.%s*%l",string.upper)for i,j in h:gmatch('<li class="wp%-manga%-chapter.-href="[^"]-/manga/[^/]-/([^"]-)/">%s*(.-)%s*</a>')do o[#o+1]={Name=a(j),Link=i,Pages={},Manga=n}end;for p=#o,1,-1 do g[#g+1]=o[p]end end;function Hentai20:prepareChapter(q,g)local h=d(self.Link.."/manga/"..q.Manga.Link.."/"..q.Link.."/")for e in h:gmatch('<img id="image%-[^>]-src="%s*([^"]-)%s*"')do g[#g+1]={Link=e:gsub("%%","%%%%"),Header1="Referer: https://hentai20.com/"}end end;function Hentai20:loadChapterPage(e,g)g.Link=e end