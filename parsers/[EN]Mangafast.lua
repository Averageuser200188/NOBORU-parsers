Mangafast=Parser:new("Mangafast","https://mangafast.org","ENG","MANGAFAST",3)Mangafast.Disabled=true;local a='https://search.mangafast.net/comics/ms'Mangafast.Tags={"Manga","Manhua","Manhwa"}Mangafast.TagValues={["Manga"]="manga",["Manhua"]="manhua",["Manhwa"]="manhwa"}local function b(string)if u8c then return string:gsub("&#([^;]-);",function(c)local d=tonumber("0"..c)or tonumber(c)return d and u8c(d)or"&#"..c..";"end):gsub("&([^;]-);",function(c)return HTML_entities and HTML_entities[c]and u8c(HTML_entities[c])or"&"..c..";"end)else return string end end;local function e(f)local g={}Threads.insertTask(g,{Type="StringRequest",Link=f,Table=g,Index="string"})while Threads.check(g)do coroutine.yield(false)end;return g.string or""end;function Mangafast:getTagManga(h,i,j)local k=e(self.Link.."/list-manga?cat="..self.TagValues[j]..(h==1 and""or"/"..h))for l,m,n in k:gmatch('"ranking1">.-href="/read/([^"]-)".-data%-src="([^"]-)".-<h4>%s*([^<]-)%s*</h4>')do i[#i+1]=CreateManga(b(n),l,m:gsub("%%","%%%%"),self.ID,self.Link.."/read/"..l)coroutine.yield(false)end;i.NoPages=true end;function Mangafast:getLatestManga(o,i)local k=e(self.Link.."/read")for l,m,n in k:gmatch('"ls5">.-href="/read/([^"]-)".-data%-src="([^"]-)".-<h3>%s*([^<]-)%s*</h3>')do i[#i+1]=CreateManga(b(n),l,m:gsub("%%","%%%%"),self.ID,self.Link.."/read/"..l)coroutine.yield(false)end;i.NoPages=true end;function Mangafast:searchManga(p,o,i)local k=e({Link=a,HttpMethod=POST_METHOD,PostData='{"q":"'..p..'","limit":6}',ContentType=JSON,Header1='mangafast:mangafast'})for n,l,m in k:gmatch('"title":"([^"]-)","slug":"([^"]-)"[^}]-"thumbnail":"([^"]-)"')do i[#i+1]=CreateManga(b(n):gsub("^%l",string.upper),l,m:gsub("%%","%%%%"),self.ID,self.Link.."/read/"..l)coroutine.yield(false)end;i.NoPages=true end;function Mangafast:getChapters(q,i)local k=e(self.Link.."/read/"..q.Link)local r={}for l,n in k:gmatch('"jds">.-href="/([^"]-)"[^>]->%s*(.-)%s*</a>')do r[#r+1]={Name=b(n:gsub("<[^>]->","")),Link=l,Pages={},Manga=q}end;for s=#r,1,-1 do i[#i+1]=r[s]end end;function Mangafast:prepareChapter(t,i)local k=e(self.Link.."/"..t.Link)for f in k:gmatch('<img[^<]-loading="lazy"[^<]-data%-src="([^"]-)"')do i[#i+1]={Link=f:gsub("\\/","/"):gsub("%%","%%%%"),Header1="Referer:"..self.Link.."/"}end end;function Mangafast:loadChapterPage(f,i)i.Link=f end