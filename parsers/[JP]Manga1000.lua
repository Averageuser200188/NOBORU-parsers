Manga1000=Parser:new("Manga1000","http://manga1000.com","JAP","MANGA1000JP",2)Manga1000.Disabled=true;local function a(string)return string:gsub("&#([^;]-);",function(b)local c=tonumber("0"..b)or tonumber(b)return c and u8c(c)or"&#"..b..";"end):gsub("&(.-);",function(b)return HTML_entities and HTML_entities[b]and u8c(HTML_entities[b])or"&"..b..";"end)end;local function d(e)local f={}Threads.insertTask(f,{Type="StringRequest",Link=e,Table=f,Index="string"})while Threads.check(f)do coroutine.yield(false)end;return f.string or""end;local function g(b)return string.byte(b)>127 and"%"..string.format("%02X",string.byte(b))or b end;function Manga1000:getManga(e,h)local i=d(e)h.NoPages=true;for j,k,l,m in i:gmatch('article%-wrap%-inner">.-href=".-/([^/]*)/?".-src="(%S-)".-rel="bookmark">([^<%(]*).-<span class="cat%-links">(.-)</span>')do local n={}for o in m:gmatch("<a[^>]->(.-)</a>")do n[#n+1]=o end;local p=CreateManga(a(l),j,k:gsub("^https","http"):gsub(".",g),self.ID,table.concat(n," / "))h[#h+1]=p;h.NoPages=false;coroutine.yield(false)end end;function Manga1000:getLatestManga(q,h)self:getManga(self.Link.."/page/"..q,h)end;function Manga1000:getPopularManga(q,h)self:getManga(self.Link.."/seachlist/page/"..q.."/?cat=-1",h)end;function Manga1000:searchManga(r,q,h)self:getManga(self.Link.."/page/"..q.."/?s="..r:gsub(".",g),h)end;function Manga1000:getChapters(p,h)local i=d(self.Link.."/"..p.Link)local s={}for j,l in i:gmatch('<tr><td>.-<a[^>]-href=".-/([^/]*)/?">(.-)</a>')do s[#s+1]={Name=l,Link=j,Pages={},Manga=p}end;for t=#s,1,-1 do h[#h+1]=s[t]end end;function Manga1000:prepareChapter(u,h)local i=d(self.Link.."/"..u.Link)for j in i:gmatch('src="(%S-)" alt')do h[#h+1]=j:gsub("^https://","")end end;function Manga1000:loadChapterPage(e,h)h.Link={Link=e,Header1="referer: https://manga1000.com"}end