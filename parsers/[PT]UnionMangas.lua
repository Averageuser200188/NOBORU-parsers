UnionMangas=Parser:new("UnionMangas","https://unionleitor.top","PRT","UNIONMANGASPT")function UnionMangas:getManga(a,b)local c={}Threads.insertTask(c,{Type="StringRequest",Link=a,Table=c,Index="string"})while Threads.check(c)do coroutine.yield(false)end;local d=c.string or""local e=b;local f=true;for g,h,i in d:gmatch('media lancamento%-linha">[^>]-href="([^"]-)">[^>]-src="([^"]-)".->%s+([^<]-)</a>')do e[#e+1]=CreateManga(i,g:match(".+/(.-)$"),h,self.ID,g)f=false;coroutine.yield(false)end;if f then e.NoPages=true end end;function UnionMangas:getPopularManga(j,b)self:getManga(self.Link.."/lista-mangas/visualizacoes/"..j,b)end;function UnionMangas:searchManga(k,j,b)local c={}Threads.insertTask(c,{Type="StringRequest",Link=self.Link.."/assets/busca.php?q="..k,Table=c,Index="string"})while Threads.check(c)do coroutine.yield(false)end;local d=c.string or""local e=b;local f=true;for h,i,g in d:gmatch('"imagem":"([^"]-)","titulo":"([^"]-)","url":"([^"]-)"')do e[#e+1]=CreateManga(i,g,h:gsub("\\/","/"),self.ID,self.Link.."/perfil-manga/"..g)f=false;coroutine.yield(false)end;if f then e.NoPages=true end end;function UnionMangas:getChapters(l,b)local c={}Threads.insertTask(c,{Type="StringRequest",Link=self.Link.."/perfil-manga/"..l.Link,Table=c,Index="string"})while Threads.check(c)do coroutine.yield(false)end;local d=c.string or""local e={}for g,i in d:gmatch('row lancamento%-linha">.-href="([^"]-)">([^<]-)</a>')do e[#e+1]={Name=i,Link=g,Pages={},Manga=l}end;for m=#e,1,-1 do b[#b+1]=e[m]end end;function UnionMangas:prepareChapter(n,b)local c={}Threads.insertTask(c,{Type="StringRequest",Link=n.Link,Table=c,Index="string"})while Threads.check(c)do coroutine.yield(false)end;local d=c.string or""local o=d:match("total_pages = (.-);")or 0;local e=b;for g,i in d:gmatch('img src="([^"]-/leitor/[^"]-)"')do e[#e+1]=g:gsub("%s","%%%%20")end end;function UnionMangas:loadChapterPage(a,b)b.Link=a end