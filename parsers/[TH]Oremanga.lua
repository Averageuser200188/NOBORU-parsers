Oremanga=Parser:new("Oremanga","https://www.oremanga.net","THA","OREMANGATHA",1)local function a(b)return b:gsub("&#([^;]-);",function(c)local d=tonumber("0"..c)or tonumber(c)return d and u8c(d)or"&#"..c..";"end):gsub("&(.-);",function(c)return HTML_entities and HTML_entities[c]and u8c(HTML_entities[c])or"&"..c..";"end)end;local function e(f)local g={}Threads.insertTask(g,{Type="StringRequest",Link=f,Table=g,Index="string"})while Threads.check(g)do coroutine.yield(false)end;return g.string or""end;function Oremanga:getManga(f,h)local i=e(self.Link.."/series/"..f)local j=h;j.NoPages=true;for k,l,m in i:gmatch('flexbox2%-item">.-href="[^"]*/([^"]-)/" title="([^"]-)".-img src="([^"]-)"')do local n=CreateManga(a(l),k,m,self.ID,self.Link.."/series/"..k)if n then j.NoPages=false;j[#j+1]=n end;coroutine.yield(false)end end;function Oremanga:getPopularManga(o,h)self:getManga(self.Link.."/advance-search/page/"..o.."/?title=&author&yearx&status&type&order=popular",h)end;function Oremanga:getLatestManga(o,h)self:getManga(self.Link.."/advance-search/page/"..o.."/?title=&author&yearx&status&type&order=update",h)end;function Oremanga:getAZManga(o,h)self:getManga(self.Link.."/advance-search/page/"..o.."/?title=&author&yearx&status&type&order=title",h)end;function Oremanga:searchManga(p,o,h)self:getManga(self.Link.."/advance-search/page/"..o.."/?title="..p.."&author&yearx&status&type&order=popular",h)end;function Oremanga:getChapters(n,h)local i=e(self.Link.."/manga/"..n.Link)local q=(i:match('series%-synops">(.-)</div>')or""):gsub("^%s+",""):gsub("%s+$",""):gsub("<[^>]->","")h.Description=a(q)local j={}for k,l in i:gmatch('flexch%-book">.-href="[^"]*/([^"]-/[^"]-)/" title="([^"]-)"')do j[#j+1]={Name=a(l),Link=k,Pages={},Manga=n}end;for r=#j,1,-1 do h[#h+1]=j[r]end end;function Oremanga:prepareChapter(s,h)local i=e(self.Link.."/"..s.Link)local j=h;for k in(i:match('reader%-area">(.-)</div>')or""):gmatch('src="([^"]-)"')do local f=k:gsub("\\/","/")j[#j+1]=f end end;function Oremanga:loadChapterPage(f,h)h.Link=f end